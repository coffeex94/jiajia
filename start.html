<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        
    </style>
</head>
<body>
    


    <form action="">
        <div>
            输入姓名：
            <input type="text" class="name">
        </div>
            输入名字最后两个字
        <div>
            <input type="text" class="lastname">
        </div>
       <div>
        输入学号：
        <input type="text" class="xuehao">
       </div>
       性别;
       <div>
        <input type="text" class="sex">
       </div>
        <div>
            请假类型：
        <select class="type">
            <option value="事假">事假</option>   
            <option value="病假">病假</option>   
        </select>
        </div>
        <div>
            是否需要离校
            <select class="lixiao">
                <option value="是">是</option>   
                <option value="否">否</option>   
            </select>
        </div>
        <div>
            休假时间(请人工统计)
        </div>
        请假开始日期(例如04-17)
        <div>
            <input type="text" class="beginday">
        </div>
        请假开始时间（例如14：00，冒号必须使用英文！！）
        <div>
            <input type="text" class="begin">
        </div>
        请完整输入一次(例如:'2018-4-1,18:30:00')：
        <div>
            <input type="text" class="beginsure">
        </div>
        请假结束日期(例如04-17)
        <div>
           <input type="text" class="endday">
        </div>
        请假结束时间（例如14：00，冒号必须使用英文！！）
        <div>
            <input type="text" class="end">
        </div>
        请完整输入一次(例如:'2018-4-1,18:30:00')：
        <div>
            <input type="text" class="endsure">
        </div>
        共计:(一天内是几个小时，超过一天是多少天,全部是中文)
        <div>
           <input type="text" class="count">
        </div>
        <audio src="back02.mp3"  class="background-audio"  autoplay ></audio>
        审批人：（写辅导员名字或其他的）
        <div>
            <input type="text" class="fudaoyuan">
        </div>
        请假原因：
        <div>
            <input type="text" class="reason">
        </div>
        发起位置(例如：山东省泰安市岱岳区环山路)：
        <div>
            <input type="text" class="position">
        </div>
        抄送人（没有就写无）
        <div>
            <input type="text" class="chaosong">
        </div>
        可以选择两张图片进行上传
        <div>
            <input type="file" class="tupian1">
            <input type="file" class="tupian2">
        </div>
        <button type="submit" class="sure">Sure</button>
    </form>
    <script>
        
       

        const lastname =document.querySelector('.lastname')
        const name = document.querySelector('.name')
        const xuehao = document.querySelector('.xuehao')
        const sex = document.querySelector('.sex')
        const type = document.querySelector('.type')
        const lixiao = document.querySelector('.lixiao')
        const beginday = document.querySelector('.beginday')
        const begin = document.querySelector('.begin')
        const beginsure =document.querySelector('.beginsure')
        const endday = document.querySelector('.endday')
        const end = document.querySelector('.end')
        const endsure = document.querySelector('.endsure')
        const count = document.querySelector('.count')
        const fudaoyuan = document.querySelector('.fudaoyuan')
        const reason = document.querySelector('.reason')
        const position = document.querySelector('.position')
        const chaosong = document.querySelector('.chaosong')
        const sure = document.querySelector('.sure')

        const audio = document.getElementsByTagName("audio")[0]
        audio.volume = 0.7
        window.addEventListener('click',function(){
            audio.play()
            audio.loop = true
        })


        const input = document.querySelector('.tupian1')
        let temp1 = '1'
        input.addEventListener('change',function(){
        const reader = new FileReader()
        reader.addEventListener('load',function(){
            temp1 = reader.result
        })
        reader.readAsDataURL(input.files[0])
        })

        const input2 = document.querySelector('.tupian2')
        let temp2 = '2'
        input2.addEventListener('change',function(){
        const reader = new FileReader()
        reader.addEventListener('load',function(){
            temp2 = reader.result
        })
        reader.readAsDataURL(input2.files[0])
        })

        sure.addEventListener('click',function(e){
            e.preventDefault()
            const array={
                lastname:lastname.value,
                name:name.value,
                xuehao:xuehao.value,
                sex:sex.value,
                type:type.value,
                lixiao:lixiao.value,
                beginday:beginday.value,
                begin:begin.value,
                beginsure:beginsure.value,
                endday:endday.value,
                end:end.value,
                endsure:endsure.value,
                count:count.value,
                fudaoyuan:fudaoyuan.value,
                reason:reason.value,
                position:position.value,
                chaosong:chaosong.value,
                tupian1:temp1,
                tupian2:temp2,
            }
            console.log(array)
            localStorage.setItem('array',JSON.stringify(array))

            location.href ='index.html'
        })
        

        
        
    </script>
</body>
</html>